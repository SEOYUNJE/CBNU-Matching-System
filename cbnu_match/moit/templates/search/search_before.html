<!-- 2025-05-11  -->
<!-- 메인페이지 -->
<!-- 작성자: 최은재 -->

{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Moit 검색 페이지</title>
  <link rel="stylesheet" href="{% static 'search/css/search.css?' %}">
  <script src="{% static 'share/js/layout_profile_menu.js' %}"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">

</head>

<body>
  <header class="header">
    <div class="container">
      <a href="{% url 'mainpage' %}"><div class="logo">moit</div></a>
      <nav class="nav">
        <a href="{% url 'subpage_meals' %}">meals</a>
        <a href="{% url 'subpage_study' %}">study</a>
        <a href="{% url 'subpage_game' %}">game</a>
        <a href="{% url 'subpage_exercise' %}">exercise</a>
      </nav> 
        <div class="util" style="display: flex; align-items: center; gap: 12px;">
          <a href="{% url 'search' %}"><i class="bi bi-search" id="search"></i></a>
          
          {% if user.is_authenticated %}
          <!-- 로그인된 상태 -->
          <div class="profile-wrapper">
            <i class="bi bi-person-circle" id="profileBtn"></i>
            <div class="profile-menu" id="profileMenu">
              <div class="profile-info">
                <span id="name"><p>{{ user.username }}님</p></span>
                <span id="manner"><p>매너온도 40도</p></span>
              </div>
              <hr>
              <a href="{% url 'profilepage' %}" class="menu-item">
                  <i class="bi bi-person-fill"></i> profile
              </a>
              <a href="{% url 'search' %}" class="menu-item">
                <i class="bi bi-chat-dots"></i> moit chat
              </a>
              <a href="{% url 'logout' %}" class="menu-item">
                <i class="bi bi-box-arrow-right"></i> log out
              </a>
            </div>
          </div>
          {% else %}
          <!-- 로그인되지 않은 상태 -->
          <a href="{% url 'signin' %}" 
            style="
              background-color: #e74c3c; 
              color: white; 
              padding: 6px 16px; 
              border-radius: 25px; 
              font-weight: 600; 
              text-decoration: none;
              display: flex;
              align-items: center;
              gap: 6px;
              font-size: 0.9rem;
           ">
            로그인
          </a>
          {% endif %}
      </div>
    </div>
  </header>

  <!-- 메인 콘텐츠 ------------------------------------------------>

 <main>
  <!-- 검색 입력 영역 -->
  <!-- <section class="search-section">
    <h1 class="search-title">SEARCH</h1>
    <form class="search-box" method="GET" action="{% url 'search' %}">
      <input
        type="text"
        name="query"
        placeholder="검색어를 입력하세요..."
        value="{{ request.GET.query|default:'' }}"
      />
      <button type="submit"><i class="bi bi-search"></i></button>
    </form>
  </section> -->

  
  <!-- 검색창 섹션 -->
  <section id="searchSection" class="search-section">
    <h1 class="search-title">SEARCH</h1>
    <form id="searchForm" class="search-box">
      <input type="text" placeholder="검색어를 입력하세요..." />
      <button type="submit"><i class="bi bi-search"></i></button>
    </form>
  </section>


  <!-- 검색 결과 영역 (검색어 있을 때만 표시) -->
<section id="resultSection" class="result-section hidden">
  <div class="container">
    <h2 class="result-title">검색결과</h2>
    <div class="list-layout">
      <!-- 반복 가상 데이터 -->
      {% comment %} 아래는 백엔드 연결 전용 가상 콘텐츠 {% endcomment %}
      <div class="list-item">
        <h4 class="item-title">같이 초밥 시키실분</h4>
        <div class="item-meta">
          <span class="tag">MEALS</span>
          <span class="info">마감 5/12 21:00</span>
        </div>
      </div>
      <!-- (7개 더 반복) -->
            <div class="list-item">
        <h4 class="item-title">같이 초밥 시키실분</h4>
        <div class="item-meta">
          <span class="tag">MEALS</span>
          <span class="info">마감 5/12 21:00</span>
        </div>
      </div>
            <div class="list-item">
        <h4 class="item-title">같이 초밥 시키실분</h4>
        <div class="item-meta">
          <span class="tag">MEALS</span>
          <span class="info">마감 5/12 21:00</span>
        </div>
      </div>
            <div class="list-item">
        <h4 class="item-title">같이 초밥 시키실분</h4>
        <div class="item-meta">
          <span class="tag">MEALS</span>
          <span class="info">마감 5/12 21:00</span>
        </div>
      </div>
            <div class="list-item">
        <h4 class="item-title">같이 초밥 시키실분</h4>
        <div class="item-meta">
          <span class="tag">MEALS</span>
          <span class="info">마감 5/12 21:00</span>
        </div>
      </div>
            <div class="list-item">
        <h4 class="item-title">같이 초밥 시키실분</h4>
        <div class="item-meta">
          <span class="tag">MEALS</span>
          <span class="info">마감 5/12 21:00</span>
        </div>
      </div>

            <div class="list-item">
        <h4 class="item-title">같이 초밥 시키실분</h4>
        <div class="item-meta">
          <span class="tag">MEALS</span>
          <span class="info">마감 5/12 21:00</span>
        </div>
      </div>
            <div class="list-item">
        <h4 class="item-title">같이 초밥 시키실분</h4>
        <div class="item-meta">
          <span class="tag">MEALS</span>
          <span class="info">마감 5/12 21:00</span>
        </div>
      </div>
    </div>

    <div class="pagination">
      <button>&laquo;</button>
      <button class="active">1</button>
      <button>2</button>
      <button>3</button>
      <button>&raquo;</button>
    </div>
  </div>
</section>








  <!-- --------------------------------------------------------------->
  <footer class="footer">
    <div class="container footer-content">
      <div class="footer-left">
        <h2>enjoy your life</h2>
      </div>
      <div class="footer-right">
        <p>12, gaesin-dong, seooone-gu<br>
         chungju, Republic of Korea<br>
         T 043.261.2114<br>
         moit@cbnu.com
        </p>
      </div>
    </div>
  </footer>
  <script src="popup_create.js"></script>
  <script src="popup_join.js"></script>
  <script src="mainpage2.js"></script>

  <!-- 스크롤 인디케이터 -->
<div class="scroll-indicator">
  <div class="dot active"></div>
  <div class="dot"></div>
  <div class="dot"></div>
</div>
<script>
  document.getElementById("searchForm").addEventListener("submit", function (e) {
    e.preventDefault(); // 실제 제출 막기
    document.getElementById("searchSection").classList.add("shrink");
    document.getElementById("resultSection").classList.remove("hidden");
  });
</script>

</body>
</html>